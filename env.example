# ============================================================================
# k6 ENVIRONMENT VARIABLES FOR test.js
# ============================================================================

# Required
BASE_URL=https://testnetapiv2.nobitex.ir
ACCESS_TOKEN=
AUTH_SCHEME=Token

# UTM defaults (override as needed)
UTM_CAMPAIGN=multistep_payout:base:crypto_champions:public
UTM_SOURCE=snapp
UTM_MEDIUM=banner

# READ SPIKE scenario
SPIKE_MAX_VUS=500
RAMP_UP_S=30
HOLD_S=120
RAMP_DOWN_S=60

# Thresholds
P95_MS=500

# Policies / expectations
# Whether 429s are expected in runs (false => count as unexpected)
EXPECT_RATE_LIMIT=false
# For reward capacity: whether HTTP 409 is acceptable
EXPECT_409_OK=true
# Toggle extra logging in campaignInfo script
DEBUG_LOG=false

# ============================================================================
# NOTES
# - ACCESS_TOKEN must be a valid token; do NOT commit real tokens.
# - For READ spike, adjust VUs and timings to shape traffic.
# - For REWARD contention, users are fired in ~1s to oversubscribe capacity.
# - Example usage (READ spike):
#   k6 run -e BASE_URL=https://testnetapiv2.nobitex.ir \
#          -e ACCESS_TOKEN=$ACCESS_TOKEN \
#          -e SPIKE_MAX_VUS=500 -e RAMP_UP_S=30 -e HOLD_S=120 -e RAMP_DOWN_S=60 \
#          -e P95_MS=500 test.js
# - Example usage (REWARD contention):
#   k6 run -e BASE_URL=https://testnetapiv2.nobitex.ir \
#          -e ACCESS_TOKEN=$ACCESS_TOKEN \
#          -e REWARD_USERS=2000 -e REWARD_CAPACITY=1000 test.js

# Optional toggles (defaults shown)
ENABLE_READ_SPIKE=true
ENABLE_REWARD=false
